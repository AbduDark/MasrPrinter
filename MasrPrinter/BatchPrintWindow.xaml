<Window x:Class="MasrPrinter.BatchPrintWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Ø·Ø¨Ø§Ø¹Ø© Ù…ØªØ³Ù„Ø³Ù„Ø©"
        Height="700"
        Width="1000"
        WindowStartupLocation="CenterOwner"
        FlowDirection="RightToLeft"
        Background="{StaticResource BackgroundGradient}"
        RenderOptions.BitmapScalingMode="LowQuality"
        TextOptions.TextFormattingMode="Display">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- âœ… Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
        <Border Grid.Row="0" Background="{StaticResource PrimaryGradient}" Padding="32,24">
            <Border.Effect>
                <DropShadowEffect Color="#6366F1" Opacity="0.4" BlurRadius="30" ShadowDepth="8" Direction="270"/>
            </Border.Effect>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Viewbox Width="40" Height="40" Margin="0,0,16,0">
                    <Canvas Width="24" Height="24">
                        <Path Fill="White" Data="M3,3H11V11H3V3M13,3H21V11H13V3M3,13H11V21H3V13M18,13H21V16H18V13M16,18H19V21H16V18M13,16H16V19H13V16M18,18H21V21H18V18Z"/>
                    </Canvas>
                </Viewbox>
                <TextBlock Text="ðŸ“¦ Ø·Ø¨Ø§Ø¹Ø© Ù…ØªØ³Ù„Ø³Ù„Ø©"
                           FontSize="32"
                           FontWeight="Bold"
                           Foreground="White"
                           VerticalAlignment="Center">
                    <TextBlock.Effect>
                        <DropShadowEffect Color="#000000" Opacity="0.2" BlurRadius="8" ShadowDepth="2"/>
                    </TextBlock.Effect>
                </TextBlock>
            </StackPanel>
        </Border>

        <!-- âœ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <Grid Margin="32,24">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="1.2*"/>
                </Grid.ColumnDefinitions>

                <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© -->
                <StackPanel Grid.Column="0">
                    <Border Style="{StaticResource CardPanel}" Margin="16,0">
                        <StackPanel>

                            <Border Background="{StaticResource PrimaryGradient}"
                                    CornerRadius="14"
                                    Padding="16,10"
                                    Margin="0,0,0,20">
                                <TextBlock Text="âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©"
                                           FontSize="20"
                                           FontWeight="Bold"
                                           Foreground="White"/>
                            </Border>

                            <!-- Ù…Ù† Ø±Ù‚Ù… -->
                            <TextBlock Text="Ù…Ù† Ø±Ù‚Ù…:"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="{StaticResource SecondaryTextColor}"
                                       Margin="10,8,10,8"/>
                            <TextBox x:Name="StartNumberTextBox"
                                     Text="1"
                                     FontSize="18"
                                     Padding="10,6"
                                     Margin="10,0,10,8"
                                     MinHeight="40"
                                     Background="White"
                                     Foreground="#222"
                                     BorderBrush="#DDD"
                                     BorderThickness="1"
                                     VerticalContentAlignment="Center"/>

                            <!-- Ø¥Ù„Ù‰ Ø±Ù‚Ù… -->
                            <TextBlock Text="Ø¥Ù„Ù‰ Ø±Ù‚Ù…:"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="{StaticResource SecondaryTextColor}"
                                       Margin="10,16,10,8"/>
                            <TextBox x:Name="EndNumberTextBox"
                                     Text="50"
                                     FontSize="18"
                                     Padding="10,6"
                                     Margin="10,0,10,8"
                                     MinHeight="40"
                                     Background="White"
                                     Foreground="#222"
                                     BorderBrush="#DDD"
                                     BorderThickness="1"
                                     VerticalContentAlignment="Center"/>

                            <!-- Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ -->
                            <TextBlock Text="Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯:"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="{StaticResource SecondaryTextColor}"
                                       Margin="10,16,10,8"/>
                            <ComboBox x:Name="BarcodeTypeComboBox"
                                      FontSize="16"
                                      Height="44"
                                      Padding="8,4"
                                      Margin="10,0,10,0"
                                      Background="White"
                                      Foreground="#222"
                                      BorderBrush="#DDD"
                                      BorderThickness="1"
                                      SelectedIndex="0"
                                      SelectionChanged="BarcodeTypeComboBox_SelectionChanged">
                                <ComboBoxItem Content="Code 128 (Ø®Ø·ÙŠ)"/>
                                <ComboBoxItem Content="QR Code (Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯)"/>
                            </ComboBox>

                            <!-- Ø­Ø¬Ù… Ø§Ù„Ù†Øµ -->
                            <TextBlock Text="Ø­Ø¬Ù… Ø§Ù„Ù†Øµ:"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="{StaticResource SecondaryTextColor}"
                                       Margin="10,16,10,8"/>
                            <StackPanel Orientation="Horizontal" Margin="10,0">
                                <Slider x:Name="TextSizeSlider" 
                                        Minimum="10" 
                                        Maximum="50" 
                                        Value="20" 
                                        Width="180"
                                        VerticalAlignment="Center"
                                        ValueChanged="TextSizeSlider_ValueChanged"/>
                                <TextBlock Text="{Binding ElementName=TextSizeSlider, Path=Value, StringFormat={}{0:0}}" 
                                          FontSize="14" 
                                          FontWeight="Bold"
                                          Margin="10,0,0,0"
                                          VerticalAlignment="Center"/>
                            </StackPanel>

                            <!-- Ø­Ø¬Ù… Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ -->
                            <TextBlock Text="Ø­Ø¬Ù… Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯:"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="{StaticResource SecondaryTextColor}"
                                       Margin="10,16,10,8"/>
                            <StackPanel Orientation="Horizontal" Margin="10,0">
                                <Slider x:Name="BarcodeSizeSlider" 
                                        Minimum="50" 
                                        Maximum="200" 
                                        Value="100" 
                                        Width="180"
                                        VerticalAlignment="Center"
                                        ValueChanged="BarcodeSizeSlider_ValueChanged"/>
                                <TextBlock Text="{Binding ElementName=BarcodeSizeSlider, Path=Value, StringFormat={}{0:0}%}" 
                                          FontSize="14" 
                                          FontWeight="Bold"
                                          Margin="10,0,0,0"
                                          VerticalAlignment="Center"/>
                            </StackPanel>

                            <!-- Ø²Ø± Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© -->
                            <Button Content="ðŸ”„ Ù…Ø¹Ø§ÙŠÙ†Ø©"
                                    Style="{StaticResource ModernButton}"
                                    Click="PreviewButton_Click"
                                    Margin="10,24,10,10"
                                    Height="48"/>
                        </StackPanel>
                    </Border>

                    <!-- Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© -->
                    <Border Style="{StaticResource CardPanel}" Margin="16,16,16,0">
                        <StackPanel>
                            <Border Background="{StaticResource SuccessGradient}"
                                    CornerRadius="14"
                                    Padding="16,10"
                                    Margin="0,0,0,16">
                                <TextBlock Text="ðŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©"
                                           FontSize="18"
                                           FontWeight="Bold"
                                           Foreground="White"/>
                            </Border>

                            <ProgressBar x:Name="PrintProgressBar"
                                         Height="36"
                                         Margin="0,8"
                                         Foreground="{StaticResource SuccessGradient}"
                                         Background="{StaticResource BackgroundColor}"
                                         BorderThickness="0"/>
                            <TextBlock x:Name="ProgressText"
                                       Text="Ø¬Ø§Ù‡Ø² Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©"
                                       FontSize="15"
                                       FontWeight="SemiBold"
                                       HorizontalAlignment="Center"
                                       Foreground="{StaticResource PrimaryColor}"
                                       Margin="0,12,0,0"/>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© -->
                <Border Grid.Column="2" Style="{StaticResource CardPanel}">
                    <StackPanel>
                        <Border Background="{StaticResource AccentGradient}"
                                CornerRadius="14"
                                Padding="16,10"
                                Margin="0,0,0,20">
                            <TextBlock Text="ðŸ‘ï¸ Ù…Ø¹Ø§ÙŠÙ†Ø©"
                                       FontSize="20"
                                       FontWeight="Bold"
                                       Foreground="White"/>
                        </Border>

                        <Border BorderBrush="{StaticResource AccentColor}"
                                BorderThickness="3"
                                CornerRadius="16"
                                Padding="20"
                                Background="White"
                                Height="340">
                            <Border.Effect>
                                <DropShadowEffect Color="#EC4899" Opacity="0.1" BlurRadius="20" ShadowDepth="0"/>
                            </Border.Effect>
                            <Image x:Name="PreviewImage"
                                   Stretch="Uniform"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                        </Border>

                        <TextBlock x:Name="PreviewInfoText"
                                   Text="Ø§Ø¶ØºØ· 'Ù…Ø¹Ø§ÙŠÙ†Ø©' Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø¹ÙŠÙ†Ø©"
                                   FontSize="15"
                                   FontWeight="SemiBold"
                                   HorizontalAlignment="Center"
                                   Foreground="{StaticResource SecondaryTextColor}"
                                   Margin="0,16,0,0"/>

                        <Border Background="#FEF3C7"
                                CornerRadius="12"
                                Padding="16"
                                Margin="0,20,0,0"
                                BorderBrush="{StaticResource WarningColor}"
                                BorderThickness="1">
                            <StackPanel>
                                <TextBlock Text="ðŸ’¡ Ù…Ù„Ø§Ø­Ø¸Ø© Ù‡Ø§Ù…Ø©"
                                           FontWeight="Bold"
                                           Foreground="{StaticResource WarningColor}"
                                           FontSize="14"
                                           Margin="0,0,0,8"/>
                                <TextBlock Text="Ø³ÙŠØªÙ… Ø·Ø¨Ø§Ø¹Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø¥Ù„Ù‰ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹"
                                           Foreground="{StaticResource TextColor}"
                                           FontSize="13"
                                           TextWrapping="Wrap"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>
            </Grid>
        </ScrollViewer>

        <!-- âœ… Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³ÙÙ„ÙŠØ© -->
        <Border Grid.Row="2" Background="White" BorderBrush="{StaticResource BorderColor}" BorderThickness="0,1,0,0" Padding="32,20">
            <Border.Effect>
                <DropShadowEffect Color="#000000" Opacity="0.05" BlurRadius="20" ShadowDepth="0" Direction="90"/>
            </Border.Effect>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="16"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0"
                        Content="ðŸ–¨ï¸ Ø¨Ø¯Ø¡ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©"
                        Style="{StaticResource SuccessButton}"
                        Click="PrintButton_Click"
                        Height="56"
                        FontSize="18"/>

                <Button Grid.Column="2"
                        Content="Ø¥ØºÙ„Ø§Ù‚"
                        Style="{StaticResource SecondaryButton}"
                        Click="CloseButton_Click"
                        Height="56"
                        FontSize="18"/>
            </Grid>
        </Border>
    </Grid>
</Window>
